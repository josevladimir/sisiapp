<app-sub-toolbar
  title="Mi Perfil"
  [editButton]="!(this.isEdit | async)">
</app-sub-toolbar>

<div class="page-content">

  <mat-card *ngIf="!(this.isEdit | async); else ProfileForm">
    <mat-card-title class="font-weight-lighter">Informaci贸n Principal</mat-card-title>
    <mat-card-content>
      <div class="row mb-3">
        <div class="col-sm-4">
          <small class="label">Nombres</small>
          <div>{{(this.user$ | async).name}}</div>
        </div>
        <div class="col-sm-4">
          <small class="label">Apellidos</small>
          <div>{{(this.user$ | async).last_names}}</div>
        </div>
        <div class="col-sm-4">
          <small class="label">Nombre de Usuario</small>
          <div>{{(this.user$ | async).username}}</div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-4">
          <small class="label">Correo Electr贸nico</small>
          <div>{{(this.user$ | async).email}}</div>
        </div>
        <div class="col-sm-4">
          <small class="label">Cargo</small>
          <div>{{(this.user$ | async).position}}</div>
        </div>
        <div class="col-sm-4">
          <small class="label">Rol de Usuario</small>
          <div>{{(this.user$ | async).role}}</div>
        </div>
      </div>
    </mat-card-content>
  </mat-card>

  <ng-template #ProfileForm>
    <form [formGroup]="this.profileForm">
      <mat-card class="shipping-card">
        
        <mat-card-title class="font-weight-lighter">Informaci贸n Principal</mat-card-title>
        
        <mat-card-content>

          <div class="row">
            <div class="col-sm-4">
              <mat-form-field>
                <mat-label>Nombres</mat-label>
                <input type="text" matInput formControlName="name">
                <mat-error></mat-error>
              </mat-form-field>
            </div>
            <div class="col-sm-4">
              <mat-form-field>
                <mat-label>Apellidos</mat-label>
                <input type="text" matInput formControlName="last_names">
                <mat-error></mat-error>
              </mat-form-field>
            </div>
            <div class="col-sm-4">
              <mat-form-field>
                <mat-label>Nombre de Usuario</mat-label>
                <input type="text" matInput formControlName="username">
                <mat-error></mat-error>
              </mat-form-field>
            </div>
          </div>

          <div class="row">
            <div class="col-sm-4">
              <mat-form-field>
                <mat-label>Correo Electr贸nico</mat-label>
                <input type="text" matInput formControlName="email">
                <mat-error></mat-error>
              </mat-form-field>
            </div>
            <div class="col-sm-4">
              <mat-form-field>
                <mat-label>Cargo</mat-label>
                <input type="text" matInput formControlName="position">
                <mat-error></mat-error>
              </mat-form-field>
            </div>
            <div class="col-sm-4">
              <mat-form-field>
                <mat-label>Rol de Usuario</mat-label>
                <input type="text" matInput formControlName="role">
                <mat-error></mat-error>
              </mat-form-field>
            </div>
          </div>
          
        </mat-card-content>
        
        <div class="flex full-width">
          <span class="fill-remaining-space"></span>
          <button mat-button type="button">CANCELAR</button>
          <button mat-raised-button color="primary" [disabled]="this.profileForm.invalid" class="ml-2" type="submit">GUARDAR</button>
        </div>
  
       </mat-card>
    </form>
  </ng-template>

</div>

