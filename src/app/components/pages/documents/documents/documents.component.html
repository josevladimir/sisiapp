<app-sub-toolbar
  title="Documentos">
</app-sub-toolbar>

<div class="page-content-without-padding">
  <mat-tree [dataSource]="dataSource" class="full-height" [treeControl]="treeControl">
    <mat-tree-node class="full-width flex hover" *matTreeNodeDef="let node" matTreeNodeToggle matTreeNodePadding>
      <button mat-icon-button disabled></button>
      <mat-icon class="type-icon" [attr.aria-label]="node.type + 'icon'">
        {{ node.type === 'file' ? 'description' : 'folder' }}
      </mat-icon>
      <span *ngIf="!node.project">{{node.name}}</span>
      <span *ngIf="node.project">{{'Lista del Proyecto: ' + node.project}}</span>
      <span class="fill-remaining-space"></span>
      <a mat-icon-button class="mr-4" [href]="this.URL + '/' + node.url" target="blank" matTooltip="Descargar Archivo" [download]="node.url" *ngIf="node.type === 'file'" class="type-icon" [attr.aria-label]="node.type + 'icon'">
        <mat-icon>get_app</mat-icon>
      </a>
    </mat-tree-node>
  
    <mat-tree-node class="full-width flex hover" *matTreeNodeDef="let node; when: hasChild" matTreeNodePadding>
      <button mat-icon-button matTreeNodeToggle
              [attr.aria-label]="'toggle ' + node.name">
        <mat-icon class="mat-icon-rtl-mirror">
          {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
        </mat-icon>
      </button>
      <mat-icon class="type-icon" [attr.aria-label]="node.type + 'icon'">
        {{ node.type ==='file' ? 'description' : 'folder' }}
      </mat-icon>
      <span *ngIf="!node.project">{{node.name}}</span>
      <span *ngIf="node.project">{{'Lista del Proyecto: ' + node.project}}</span>
      <span class="fill-remaining-space"></span>
      <a mat-icon-button class="mr-4" [href]="this.URL + '/' + node.url" target="blank" matTooltip="Descargar Archivo" [download]="node.url" *ngIf="node.type === 'file'" class="type-icon" [attr.aria-label]="node.type + 'icon'">
        <mat-icon>get_app</mat-icon>
      </a>
    </mat-tree-node>
  </mat-tree>
</div>
